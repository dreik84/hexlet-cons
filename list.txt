--- Введение ---

Списки – это одна из наиболее важных структур данных, которые позволяют организовать и управлять коллекциями объектов в Java-приложениях. В отличие от массивов, коллекции умеют работать с динамическими коллекциями, в которых количество элементов со временем меняется.

--- ArrayList ---

Наиболее часто используемая коллекция в Java – это список элементов с произвольным доступом. Такой список во многом напоминает массив, но с возможностью динамического добавления элементов.

Списки в Java представлены набором классов, реализующий интерфейс List, в котором описаны общие методы для работы со списками, такими как проверка на существование, добавление, извлечение, замена и другими.

Сами классы, в первую очередь, отличаются друг от друга способом организации (структурой данных) внутри себя. Это происходит из-за того, что не существует универсально эффективного способа создать динамический список. Создатели языка Java решили предложить программистам набор разных реализаций, которые программисты должны выбирать в зависимости от того, какая реализация окажется наиболее эффективной для их ситуации.На практике такое происходит не часто и в большинстве случаев используется ArrayList.

import java.util.ArrayList;

var items = new ArrayList<String>();

add() - добавление элемента в коллекцию
contains() - проверяет наличие элемента в коллекции.
get() - возвращает элемент по его индексу. Индексация, как и в массивах, начинается с нуля. Обращение к несуществующему индексу приводит к исключению.
size() возвращает количество элементов.

Кроме добавления элементов, их можно изменять и удалять. Метод set() заменяет элемент списка по указанному индексу на новый.
Метод remove() удаляет элемент списка на основе его индекса.

Если у списка есть начальный набор элементов и он достаточно большой, то их можно указать сразу с помощью метода List.of(). Единственное нужно учитывать, что List.of() создает неизменяемый список, то есть его элементы можно использовать, но изменять сам список нельзя. 

-- Apache Commons Collections --

Стандартная библиотека предоставляет множество полезных методов для работы со списками, но даже их недостаточно для всех возникающих ситуаций. Поэтому полезно знать про библиотеку commons-collections4, в которой содержится огромное количество полезных методов на все случаи жизни.

--- Обход списков ---

Большинство операций над списками строятся вокруг их обхода с перебором всех элементов.
Обход списка можно выполнить несколькими способами:

С помощью цикла for
С помощью цикла for-each
С помощью метода forEach()

-- Обход с помощью цикла for --

В этом случае движение по списку идет за счет счетчика цикла, который одновременно является индексом в списке.
Такой вид обхода полезен тогда, когда во время каждой итерации нам нужно обращаться не только к текущему элементу списка, но и, например, соседним. В остальных ситуациях проще использовать цикл for-each

-- Обход с помощью цикла for-each --

for-each прячет от нас процесс перебора, так, что на каждой итерации мы работаем только с текущим элементом
Технически for-each работает не со списками, а с объектами, реализующими интерфейс Iterable. Этот интерфейс добавлен в List и реализован в ArrayList, поэтому все происходит автоматически.

Зачем нужен отдельный объект для обхода коллекции? Дело в том, что во время обхода нужно помнить позицию текущего элемента. В случае обычного цикла мы управляем этим сами через счетчик цикла. Итератор же позволяет скрыть эту логику внутри, за счет сохранения текущей позиции. 

-- Изменение списка во время обхода --

В общем, изменение списка во время его обхода не рекомендуется из-за потенциальных ошибок и непредсказуемого поведения.
По этой причине, рекомендуется создавать новый список и работать в цикле уже с ним.

--- Списки в действии ---

Все операции над списками можно свести к трем основным типам:

- Отображение.
- Фильтрация.
- Агрегация.

-- Отображение (map) --

Отображение — это операция, в которой на основе одного списка, формируется другой, с таким же количеством элементов.

-- Фильтрация (filter) --

Фильтрация — это операция, в результате которой на основе одного списка, формируется другой, с элементами, соответствующими условию фильтрации. 

Фильтрация в чистом виде работает так:

- Новый список по размеру либо такой же, как и исходный, либо меньше, вплоть до того, что он может быть пустым.
- Фильтрация не меняет сами элементы, она только убирает неподходящие. Изменение элементов возможно только тогда, когда фильтрация объединена — например, с отображением.

-- Агрегация --

Агрегация — это операция нахождения какого-то значения, вычисленного на основе анализа всей коллекции. 

Но агрегация не ограничивается только такими операциями. Более того, результатом агрегации может быть сложная структура, а не простое значение. Например, мы можем захотеть сгруппировать всех пользователей по году рождения. Несмотря на различия, все эти операции сводятся к полному анализу элементов коллекции, так как результат агрегирующей операции зависит от каждого элемента.

--- Списки в определении типов ---

На примере коллекций, мы первый раз столкнулись с типами данных, которые завязаны на интерфейс и имеют несколько его реализаций. Определение свойств и методов с такой структурой отличается от того, как мы до этого работали с примитивными типами.

Правильным выходом из этой ситуации будет завязка не на конкретную реализацию ArrayList, а на интерфейс List.
Фактически в этом и есть смысл интерфейсов. Реализация может поменяться, но код от этого меняться не должен, если интерфейс не меняется.
Сегодня мы решили использовать ArrayList, а завтра захотели поменять его на LinkedList, потому что так будет эффективнее. Код по-прежнему будет работать.














































